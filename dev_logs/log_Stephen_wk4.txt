Added the basic filter logic (without location/distance).
write code for D2. Should be finish soon
